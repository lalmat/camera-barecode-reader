<html>
  <head>
    <title>Demo Camera</title>
    <script src="zxing_class.js"></script>
    <style>
      body {
        font-family: -apple-system,BlinkMacSystemFont,"Segoe UI","Noto Sans",Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji";
        font-size: 1.2em;
      }
    </style>
  </head>

  <body>
    <div id="videoDevices" style="padding:4px; width:100%">
      <!-- Will be populated with available video devices -->
    </div>

    <div id="container" style="width: 0px; height:0px; overflow:hidden; border:1px solid green; position:absolute; left:-1px; top:-1px;">
      <video autoplay="" muted="" playsinline="" id="zxing_cameraStream"></video>
    </div>
    <canvas id="zxing_canvasStream" style="width: 360px; height:180px;"></canvas>

    <div id="resultData"></div>

    <script>
      const camera = document.getElementById('zxing_cameraStream');
      const canvas = document.getElementById('zxing_canvasStream');

      const reader = new ZXingReader(camera, canvas);
      reader.addDecodedCallBack(showDecoded);
      reader.start();

      function showDecoded(data) {
        reader.stop();
        document.getElementById('resultData').innerText = JSON.stringify(data);
        console.log(data);
      }
    </script>
  </body>
</html>